{"version":3,"sources":["../node_modules/peerjs/dist sync","video.js","ListFile.js","ListChat.js","App.js","reportWebVitals.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Cus_video","stream","domvideo","useRef","useEffect","current","srcObject","ref","width","height","style","margin","autoPlay","display","useStyles","makeStyles","theme","root","backgroundColor","palette","background","paper","ListItemLink","props","ListItem","button","component","ListFile","file","console","log","type","split","classes","className","href","onClick","window","open","url","ListItemIcon","src","ListItemText","name","ListChat","data","peer","justifyContent","from","Box","bgcolor","Typography","nowrap","color","msg","createTheme","typography","fontFamily","join","App","idenID","generateID","randomstring","generate","useState","Peer","initiator","trickle","secure","port","iceServers","urls","setpeer","peerStatus","setpeerStatus","peerID","setpeerID","conn","setconn","peerConnectID","setpeerConnectID","prevpeerConnectID","setprevpeerConnectID","optional","setoptional","messages","setmessages","clientVideo","objectVideo","setobjectVideo","listFile","setlistFile","loadding","setloadding","on","err","alert","failedtoJoinServer","reconnect","send","undefined","prev","filename","blob","Blob","data_type","URL","createObjectURL","success","call","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","oGetUserMedia","video","innerWidth","innerHeight","audio","answer","remoteStream","prevStream","push","pp","filter","ele","ind","findIndex","elem","getTracks","forEach","track","stop","error","a","setInterval","destroy","disconnected","location","reload","connectPeer","option","getAudioTracks","getVideoTracks","fail","connect","warn","typemsg","settypemsg","setmyfile","buttonUpload","setbuttonUpload","Container","maxWidth","Card","CardContent","Tooltip","title","Alert","severity","clipboard","writeText","Button","variant","size","inputID","prompt","length","justify","LinearProgress","Grid","container","xs","p","TextField","label","defaultValue","onChange","target","value","disabled","marginTop","Paper","maxHeight","overflow","List","map","onKeyDown","key","myid","message","accept","files","onChangeHandler","onClickHandler","muted","i","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","browser","detect","table","app","ReactDOM","render","StrictMode","path","exact","document","getElementById"],"mappings":"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","file":"static/js/main.a42d4a70.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 298;","import React,{useRef,useEffect} from 'react';\r\nconst Cus_video = ({stream}) => {\r\n    const domvideo = useRef()\r\n    useEffect(() => {\r\n        domvideo.current.srcObject = stream\r\n    }, [])\r\n    return (\r\n        <video id={stream.id} ref={domvideo} width=\"100%\" height=\"50%\" style={{margin:\"auto auto\"}} autoPlay display=\"flex\"></video>\r\n    );\r\n}\r\n\r\nexport default Cus_video;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\nconst ListItemLink = (props) => {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\nconst imagetype = ['jpg', 'jpeg', 'png', 'gif', 'svg']\r\nconst ListFile = ({ file }) => {\r\n  console.log(file.type, file.type.split('/'))\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.root}>\r\n      <ListItemLink href='#' onClick={() => window.open(file.url, \"_blank\")} >\r\n        <ListItemIcon>\r\n          {file.type.split('/')[0] === 'image' ? <img width={30} height={30} src={file.url} /> : <FileCopyIcon />}\r\n        </ListItemIcon>\r\n        <ListItemText  > {file.name}</ListItemText>\r\n      </ListItemLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ListFile;\r\n","import React from 'react';\r\nimport {ListItem,Typography,Box   }  from '@material-ui/core';\r\n\r\nconst ListChat = ({data,peer}) => {\r\n    return (\r\n        <ListItem  style={{display:'flex', justifyContent:data.from === peer.id ?'flex-end' : 'flex-start'}} >\r\n            <Box bgcolor=\"info\">\r\n                <Typography nowrap color={data.from === peer.id ?'primary' : 'initial'}>{data.msg}</Typography>\r\n            </Box>\r\n        </ListItem>\r\n    );\r\n}\r\n\r\nexport default ListChat;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Typography,\r\n  createTheme,\r\n  CardContent,\r\n  CardActions,\r\n  Card,\r\n  TextField,\r\n  Grid,\r\n  Tooltip,\r\n  IconButton,\r\n  palette,\r\n  LinearProgress,\r\n  List,\r\n  Paper,\r\n\r\n\r\n} from \"@material-ui/core\";\r\nimport { Alert } from '@material-ui/lab/';\r\nimport { spacing, positions } from '@material-ui/system';\r\nimport randomstring from 'randomstring'\r\nimport Peer from \"peerjs\";\r\nimport Cus_video from './video'\r\nimport ListFile from './ListFile'\r\nimport ListChat from './ListChat'\r\nconst theme = createTheme({\r\n  typography: {\r\n    fontFamily: [\r\n      \"-apple-system\",\r\n      \"BlinkMacSystemFont\",\r\n      '\"Segoe UI\"',\r\n      \"Roboto\",\r\n      '\"Helvetica Neue\"',\r\n      \"Arial\",\r\n      \"sans-serif\",\r\n      '\"Apple Color Emoji\"',\r\n      '\"Segoe UI Emoji\"',\r\n      '\"Segoe UI Symbol\"',\r\n    ].join(\",\"),\r\n  },\r\n});\r\n// 'iceServers': [ { url: 'stun:stun.l.google.com:19302' }, { url: 'stun:stun1.l.google.com:19302' }, ],\r\nconst App = () => {\r\n  const idenID = '-CS61'\r\n  const generateID = randomstring.generate(2)\r\n  const [peer, setpeer] = useState(new Peer(generateID + idenID, {\r\n    initiator: true,\r\n    trickle: false,\r\n    secure: true,\r\n    port: 443,\r\n    iceServers: [\r\n      { urls: 'stun:stun.l.google.com:19302' },\r\n      { urls: 'stun:stun1.l.google.com:19302' },\r\n      { urls: 'stun:stun2.l.google.com:19302' },\r\n    ]\r\n  }));\r\n  const [peerStatus, setpeerStatus] = useState(false);\r\n  const [peerID, setpeerID] = useState(generateID);\r\n  const [conn, setconn] = useState();\r\n  const [peerConnectID, setpeerConnectID] = useState();\r\n  const [prevpeerConnectID, setprevpeerConnectID] = useState(\"\");\r\n  const [optional, setoptional] = useState();\r\n  const [messages, setmessages] = useState([]);\r\n  const clientVideo = useRef();\r\n  const [objectVideo, setobjectVideo] = useState([]);\r\n  const [listFile, setlistFile] = useState([]);\r\n\r\n  const [loadding, setloadding] = useState(false);\r\n  useEffect(() => {\r\n\r\n    peer.on(\"open\", (id) => {\r\n      console.log('connect server peerid : ', id)\r\n      setpeerStatus(true)\r\n    });\r\n    peer.on(\"error\", (err) => {\r\n      setpeerStatus(false)\r\n      setloadding(false)\r\n      alert(err)\r\n      failedtoJoinServer(err)\r\n      reconnect()\r\n    });\r\n    peer.on(\"disconnected\", () => {\r\n      console.log(`peer id ${peer.id} disconnected`)\r\n      reconnect()\r\n    })\r\n    peer.on(\"connection\", (conn) => {\r\n      setloadding(true)\r\n      setconn(conn);\r\n      console.log(\":N:--->> peer connection\");\r\n      console.log(conn);\r\n      conn.on(\"open\", () => {\r\n\r\n        setloadding(false)\r\n        const data = `${peer.id} is Joined`;\r\n        conn.send({ type: \"chat\", data: data, from: peer.id });\r\n      });\r\n      conn.on(\"data\", (data) => {\r\n        setloadding(false)\r\n        if (peerConnectID === undefined) {\r\n          setprevpeerConnectID(data.from)\r\n          setpeerConnectID(data.from);\r\n        }\r\n        if (data.type === \"disconnect\") {\r\n          // console.warn(`${peerConnectID} is disconnected`)\r\n          console.log(`${peerConnectID} is disconnected`)\r\n          reconnect()\r\n        }\r\n        if (data.type === \"chat\") {\r\n          setmessages((prev) => [{ from: data.from, msg: data.data }, ...prev,]);\r\n          setoptional(2);\r\n        } else if (data.type === \"file\") {\r\n          setoptional(3);\r\n          console.log(data);\r\n          if (data.filename) {\r\n            const blob = new Blob([data.file], { type: data.data_type });\r\n            const url = URL.createObjectURL(blob);\r\n            setlistFile(prev => [{ name: data.filename, url: url, type: data.data_type }, ...prev,]);\r\n            // window.open(url, \"_blank\");\r\n            if (url) {\r\n              conn.send({ type: \"connect\", success: true });\r\n            }\r\n          }\r\n        }\r\n        else if (data.type === \"connect\" && data.success) {\r\n          console.log(\"success\");\r\n          conn.send({ type: \"connect\", success: true });\r\n        }\r\n      });\r\n\r\n      conn.on(\"error\", (err) => {\r\n        setloadding(false)\r\n        failedtoJoinServer(err)\r\n        console.log(err)\r\n      });\r\n    });\r\n\r\n    peer.on(\"call\", (call) => {\r\n\r\n      setloadding(true)\r\n      navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia || navigator.mozGetUserMedia.getUserMedia;\r\n\r\n      navigator.getUserMedia(\r\n        { video: { width: window.innerWidth / 2, height: window.innerHeight / 2 }, audio: true },\r\n        (stream) => {\r\n          clientVideo.current.srcObject = stream;\r\n          call.answer(stream);\r\n          call.on(\"stream\", (remoteStream) => {\r\n            setprevpeerConnectID(call.peer)\r\n            setloadding(false)\r\n            prevStream.push(remoteStream)\r\n            let pp = prevStream.filter((ele, ind) => ind === prevStream.findIndex(elem => elem.id === ele.id))\r\n            setobjectVideo(pp)\r\n            setconn(call);\r\n          });\r\n          call.on(\"error\", (err) => {\r\n            setloadding(false)\r\n            failedtoJoinServer(err)\r\n            stream.getTracks().forEach((track) => track.stop());\r\n          });\r\n        },\r\n        (err) => {\r\n          setloadding(false)\r\n          console.error(\"Failed to get local stream\", err);\r\n        }\r\n      );\r\n    });\r\n  }, [peer]);\r\n  let prevStream = []\r\n\r\n  const failedtoJoinServer = async (err) => {\r\n    if (err.type === 'unavailable-id' || err.type === 'peer-unavailable') {\r\n      console.log(err);\r\n      setInterval(() => {\r\n        peer.destroy()\r\n      }, 2345);\r\n      if (peer.disconnected)\r\n        window.location.reload()\r\n    } else {\r\n      console.error(err)\r\n    }\r\n  }\r\n\r\n  const reconnect = async () => {\r\n    console.log('reconnect')\r\n    window.location.reload()\r\n  };\r\n  const openWebCam = () => {\r\n    setloadding(true)\r\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.oGetUserMedia || navigator.mozGetUserMedia.getUserMedia;\r\n\r\n\r\n    navigator.getUserMedia(\r\n      { video: { width: window.innerWidth / 2, height: window.innerHeight / 2 }, audio: true },\r\n      (stream) => {\r\n\r\n        const call = peer.call(peerConnectID + idenID, stream);\r\n        console.log(` caller => `, call, stream)\r\n        clientVideo.current.srcObject = stream;\r\n        call.on(\"stream\", (remoteStream) => {\r\n          setloadding(false)\r\n          prevStream.push(remoteStream)\r\n          let pp = prevStream.filter((ele, ind) => ind === prevStream.findIndex(elem => elem.id === ele.id))\r\n          setobjectVideo(pp)\r\n          setconn(call);\r\n        });\r\n        call.on(\"error\", (err) => {\r\n          setloadding(false)\r\n          failedtoJoinServer(err)\r\n          stream.getTracks().forEach((track) => track.stop());\r\n          stream.getAudioTracks()[0].stop();\r\n          stream.getVideoTracks()[0].stop();\r\n        });\r\n      },\r\n      (fail) => { console.log(`ไม่สามารถเปิดกล้องได้`); console.log(fail); setloadding(false) }\r\n    );\r\n  };\r\n  const connectPeer = (option) => {\r\n    setloadding(true)\r\n    if (option === 1) {\r\n      openWebCam();\r\n    } else if (option === 2) {\r\n      const conn = peer.connect(peerConnectID + idenID);\r\n      console.log(\"<<---:E: peer connection\");\r\n      console.log(conn);\r\n      conn.on(\"open\", () => {\r\n\r\n        setloadding(false)\r\n        const data = `${peer.id} is Joined`;\r\n        conn.send({ type: \"chat\", data: data, from: peer.id });\r\n      });\r\n      setconn(conn);\r\n      conn.on(\"data\", (data) => {\r\n        setloadding(false)\r\n        if (peerConnectID === undefined) { setpeerConnectID(data.from); }\r\n        if (data.type === \"chat\") {\r\n          setmessages((prev) => [{ from: data.from, msg: data.data }, ...prev,]);\r\n          setoptional(2);\r\n        } else if (data.type === \"file\") {\r\n          setoptional(3);\r\n          console.log(data);\r\n          if (data.filename) {\r\n            const blob = new Blob([data.file], { type: data.type });\r\n            const url = URL.createObjectURL(blob);\r\n            setlistFile(prev => [{ name: data.filename, url: url, type: data.data_type }, ...prev,]);\r\n            // window.open(url, \"_blank\");\r\n            if (url) {\r\n              conn.send({ type: \"connect\", success: true });\r\n            }\r\n          }\r\n        }\r\n        if (data.type === \"disconnect\") {\r\n          // console.warn(`${peerConnectID} is disconnected`)\r\n          console.log(`${peerConnectID} is disconnected`)\r\n          setloadding(false)\r\n          reconnect()\r\n        }\r\n      });\r\n      conn.on(\"error\", (err) => {\r\n        setloadding(false)\r\n        failedtoJoinServer(err)\r\n      });\r\n    } else if (option === 3) {\r\n      const conn = peer.connect(peerConnectID + idenID);\r\n      console.log(\"<<---:E: peer connection\");\r\n      console.log(conn);\r\n      conn.on(\"open\", () => {\r\n        setloadding(false)\r\n        const data = `${peer.id} is Joined`;\r\n        conn.send({ type: \"file\", data: data, from: peer.id });\r\n      });\r\n      setconn(conn);\r\n      conn.on(\"data\", (data) => {\r\n        setloadding(false)\r\n        if (data.type === \"file\") {\r\n          setoptional(3);\r\n          console.log(data);\r\n          if (data.filename) {\r\n            const blob = new Blob([data.file], { type: data.data_type });\r\n            const url = URL.createObjectURL(blob);\r\n            setlistFile(prev => [{ name: data.filename, url: url, type: data.data_type }, ...prev,]);\r\n            // window.open(url, \"_blank\");\r\n            if (url) {\r\n              conn.send({ type: \"connect\", success: true });\r\n            }\r\n          }\r\n        }\r\n        if (data.type === \"disconnect\") {\r\n          // console.warn(`${peerConnectID} is disconnected`)\r\n          console.log(`${peerConnectID} is disconnected`)\r\n          conn.send({ type: \"disconnect\", from: peer.id });\r\n        }\r\n      });\r\n\r\n      conn.on(\"error\", (err) => {\r\n        setloadding(false)\r\n        failedtoJoinServer(err)\r\n      });\r\n      setoptional(3);\r\n    } else {\r\n      setloadding(false)\r\n      console.warn(\"fail to connect\");\r\n\r\n    }\r\n  };\r\n  const [typemsg, settypemsg] = useState(\"\");\r\n\r\n  const chat = () => {\r\n    return (\r\n      <div style={{ margin: '16px auto' }}>\r\n        <Paper style={{ maxHeight: 200, overflow: 'auto' }}>\r\n          <List>\r\n            {messages.map((data, ind) => <ListChat key={ind} data={data} peer={peer} />)}\r\n          </List>\r\n        </Paper>\r\n        <TextField\r\n          type=\"text\"\r\n          label=\"ใส่ข้อความ\"\r\n          style={{ margin: '16px auto', width: \"100%\" }}\r\n\r\n          defaultValue={typemsg}\r\n          onChange={(e) => settypemsg(e.target.value)}\r\n          onKeyDown={(e) => {\r\n            if (e.key == \"Enter\" && typemsg.length > 0) {\r\n              const msg = typemsg;\r\n              const myid = peer.id;\r\n              try {\r\n                conn.send({ type: \"chat\", data: msg, from: myid });\r\n              } catch (e) { setloadding(false); console.warn(e.message); reconnect() }\r\n              setmessages((prev) => [{ from: myid, msg: typemsg }, ...prev,]);\r\n              e.target.value = \"\";\r\n              settypemsg(\"\")\r\n            }\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n  const [file, setmyfile] = useState();\r\n  const [buttonUpload, setbuttonUpload] = useState(true);\r\n\r\n  const upload = () => {\r\n    const onChangeHandler = (e) => {\r\n      const file = e.target.files[0]\r\n      if (file.size <= 5242880) {\r\n        setmyfile(file);\r\n        setbuttonUpload(false);\r\n      } else {\r\n        alert(\"file ต้องน้อยกว่า 5MB\")\r\n      }\r\n    };\r\n    const onClickHandler = () => {\r\n      const blob = new Blob([file], { type: file.type });\r\n      conn.send({\r\n        type: 'file',\r\n        data_type: file.type,\r\n        file: blob,\r\n        filename: file.name,\r\n        from: peer.id,\r\n      });\r\n      console.log('send ', file.name)\r\n      //\r\n      setbuttonUpload(true);\r\n    };\r\n    return (\r\n      <>\r\n        <input\r\n          style={{ marginTop: \"3% auto\" }}\r\n          type=\"file\"\r\n          accept=\"*\"\r\n          onChange={(e) => onChangeHandler(e)}\r\n        />\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          style={{ margin: \" auto\" }}\r\n          disabled={buttonUpload}\r\n          onClick={() => onClickHandler()}\r\n        >\r\n          Upload\r\n        </Button>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <>\r\n      {peer ? (\r\n        <>\r\n          <Container maxWidth=\"sm\">\r\n            <Card>\r\n              <CardContent display=\"flex\">\r\n                {peerStatus ? <Tooltip title=\"กดเพื่อคัดลอก\">\r\n                  <Alert\r\n                    severity=\"success\"\r\n                    onClick={() => {\r\n                      try { navigator.clipboard.writeText(peerID); } catch (e) { console.log(\"ERROR : ไม่สามารถใช้งานคลิกเพื่อคัดลอกได้ \\n ให้ผู้ใช้คลุมเพื่อคัดลอกแทน \\n\"); }\r\n                    }}>\r\n                    ID : {peerID}{\"  \"}\r\n                    {peerStatus && !conn ? <Button variant=\"outlined\" size=\"small\" onClick={() => {\r\n                      const inputID = prompt(\"กรอก ID เป็นภาษาอังกฤษ\")\r\n                      if (inputID && inputID.length > 0) {\r\n                        setpeerStatus(false)\r\n                        // peer.disconnect()\r\n                        setpeer()\r\n                        setpeer(new Peer(inputID + idenID, {\r\n                          initiator: true,\r\n                          trickle: false,\r\n                          secure: true,\r\n                          port: 443,\r\n                          iceServers: [\r\n                            { urls: 'stun:stun.l.google.com:19302' },\r\n                            { urls: 'stun:stun1.l.google.com:19302' },\r\n                            { urls: 'stun:stun2.l.google.com:19302' },\r\n                          ]\r\n                        }))\r\n                        setpeerID(inputID)\r\n                      } else { alert(\"กรุณาใส่ ID\") }\r\n                    }}>เปลี่ยน ID</Button> : <></>}\r\n                    {conn ? <Button\r\n                      variant=\"outlined\"\r\n                      color=\"secondary\"\r\n                      size=\"small\"\r\n                      display=\"flex\"\r\n                      justify=\"space-between\"\r\n                      style={{ justifyContent: 'flex' }}\r\n                      onClick={() => { try { conn.send({ type: \"disconnect\", success: \"bye\" }) } catch (e) { }; reconnect() }}>\r\n                      ออกจากระบบ</Button> : <></>}\r\n                  </Alert>\r\n                </Tooltip>\r\n                  : <><Alert severity=\"warning\"> กำลังเชื่อมต่อ  </Alert><LinearProgress /></>}\r\n              </CardContent>\r\n              {conn ? (\r\n                <></>\r\n              ) : (\r\n                <>\r\n                  <hr />\r\n                  <Grid container xs={12} p=\"2\" >\r\n                    {peerStatus ?\r\n                      <Grid xs={10} style={{ margin: \"1% auto\" }}>\r\n                        <TextField\r\n                          type=\"text\"\r\n                          label=\"ID เพื่อน \"\r\n                          defaultValue={prevpeerConnectID}\r\n                          onChange={(e) => { setpeerConnectID(e.target.value); setprevpeerConnectID(e.target.value) }}\r\n                        />\r\n                      </Grid> : <LinearProgress />}\r\n\r\n                    <Grid xs={3} style={{ margin: \"3% auto\" }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                          console.log('open camera')\r\n                          connectPeer(1);\r\n                        }}\r\n                        disabled={!peerConnectID && !prevpeerConnectID ? true : false}\r\n                      >\r\n                        กล้อง\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={3} style={{ margin: \"3% auto\" }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        onClick={() => connectPeer(2)}\r\n                        disabled={!peerConnectID && !prevpeerConnectID ? true : false}\r\n                      >\r\n                        แชท\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={3} style={{ margin: \"3% auto\" }}>\r\n                      <Button\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        onClick={() => connectPeer(3)}\r\n                        disabled={!peerConnectID && !prevpeerConnectID ? true : false}\r\n                      >\r\n                        ไฟล์\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </>\r\n              )}\r\n            </Card>\r\n          </Container>\r\n          {listFile.length > 0 ?\r\n            <Container theme={theme} justify=\"center\" maxWidth=\"sm\" style={{ marginTop: '2%' }}>\r\n              <Paper style={{ maxHeight: 200, overflow: 'auto' }}>\r\n                <List >\r\n                  {listFile && listFile.map((file, ind) => <ListFile key={ind} file={file} />)}\r\n                </List>\r\n              </Paper>\r\n            </Container> : <></>}\r\n          <Container theme={theme} maxWidth=\"sm\" style={{ marginTop: '2%' }}>\r\n            {optional === 2 ? (\r\n              <>{chat()}</>\r\n            ) : optional === 3 && conn ? (\r\n              <>{upload()}</>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Container>\r\n          {loadding ? <LinearProgress style={{ marginTop: '2%' }} /> : <> </>}\r\n\r\n          <Container theme={theme} justify=\"center\" maxWidth=\"sm\" style={{ marginTop: '2%' }}>\r\n            {conn && optional === 1 ? <>Video ของคุณ {peer.id}</> : <></>}\r\n            <video\r\n              ref={clientVideo}\r\n              style={{ margin: \"auto auto\" }}\r\n              width=\"100%\"\r\n              height=\"50%\"\r\n              autoPlay\r\n              muted\r\n            />\r\n\r\n            {conn && optional === 1 ? <> <hr style={{ margin: \"10px 2px\" }} /> Video เพื่อน</> : <></>}\r\n\r\n            {objectVideo && objectVideo.map((stream, i) => <Cus_video key={i} stream={stream} />)}\r\n          </Container>\r\n\r\n        </>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {detect } from 'detect-browser'\r\nimport {Alert} from '@material-ui/lab/';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst browser = detect();\r\nconsole.table(browser)\r\n\r\nconst app = () => <App  />\r\nReactDOM.render(\r\n  \r\n  <React.StrictMode>\r\n  <Router >\r\n      <Switch>\r\n      <Route path=\"/\" exact component={app} /> \r\n      <Route path=\"/611463023-p2p-react\" exact component={app} /> \r\n      </Switch>\r\n  </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}